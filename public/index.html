<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="icon" href="data:,">
    <title>Lithops UI</title>
    <!--inject:start-->
    <script src="../dist/lithops-ui.js"></script>
    <!--inject:end-->
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            font-size: 14px;
            font-family: arial, sans-serif;
            box-sizing: border-box;
            color: #333;
            display: flex;
            flex-direction: column;
        }

        .lui-head {
            padding: 5px 10px;
            background: #f5f5f5;
            border-bottom: 1px solid #ccc;
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .lui-title {
            height: 30px;
            line-height: 30px;
            font-size: 16px;
            font-weight: bold;
        }

        .lui-sub {
            padding-left: 10px;
            color: #666;
            height: 30px;
            line-height: 30px;
            flex: 1;
        }

        .icon-github {
            margin-left: 15px;
            display: block;
            width: 20px;
            height: 20px;
            background-repeat: no-repeat;
            background-position: center center;
            background-size: 20px 20px;
            background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnIGZpbGw9ImN1cnJlbnRDb2xvciI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAwQzUuMzcgMCAwIDUuMzcgMCAxMmMwIDUuMzEgMy40MzUgOS43OTUgOC4yMDUgMTEuMzg1LjYuMTA1LjgyNS0uMjU1LjgyNS0uNTcgMC0uMjg1LS4wMTUtMS4yMy0uMDE1LTIuMjM1LTMuMDE1LjU1NS0zLjc5NS0uNzM1LTQuMDM1LTEuNDEtLjEzNS0uMzQ1LS43Mi0xLjQxLTEuMjMtMS42OTUtLjQyLS4yMjUtMS4wMi0uNzgtLjAxNS0uNzk1Ljk0NS0uMDE1IDEuNjIuODcgMS44NDUgMS4yMyAxLjA4IDEuODE1IDIuODA1IDEuMzA1IDMuNDk1Ljk5LjEwNS0uNzguNDItMS4zMDUuNzY1LTEuNjA1LTIuNjctLjMtNS40Ni0xLjMzNS01LjQ2LTUuOTI1IDAtMS4zMDUuNDY1LTIuMzg1IDEuMjMtMy4yMjUtLjEyLS4zLS41NC0xLjUzLjEyLTMuMTggMCAwIDEuMDA1LS4zMTUgMy4zIDEuMjMuOTYtLjI3IDEuOTgtLjQwNSAzLS40MDVzMi4wNC4xMzUgMyAuNDA1YzIuMjk1LTEuNTYgMy4zLTEuMjMgMy4zLTEuMjMuNjYgMS42NS4yNCAyLjg4LjEyIDMuMTguNzY1Ljg0IDEuMjMgMS45MDUgMS4yMyAzLjIyNSAwIDQuNjA1LTIuODA1IDUuNjI1LTUuNDc1IDUuOTI1LjQzNS4zNzUuODEgMS4wOTUuODEgMi4yMiAwIDEuNjA1LS4wMTUgMi44OTUtLjAxNSAzLjMgMCAuMzE1LjIyNS42OS44MjUuNTdBMTIuMDIgMTIuMDIgMCAwIDAgMjQgMTJjMC02LjYzLTUuMzctMTItMTItMTJ6Ii8+PC9nPjwvc3ZnPg==");
            opacity: 0.6;
        }

        .icon-github:hover {
            opacity: 1;
        }

        .lui-body {
            padding: 10px;
            flex: 1;
            overflow: auto;
            box-sizing: border-box;
        }

        .lui-item {
            border-bottom: 1px dotted #ccc;
            padding: 5px;
            display: flex;
            flex-direction: row;
        }

        .lui-item-name {
            width: 90px;
            padding: 5px 5px 5px 0;
            overflow: hidden;
            color: #000;
        }

        .lui-item-example {
            border-left: 1px solid #ccc;
            padding: 5px 5px 5px 10px;
            position: relative;
            flex: 1;
            overflow: hidden;
        }

        lui-checkbox,
        lui-radio {
            margin-bottom: 5px;
        }

    </style>
</head>

<body>
    <div class="lui-head">
        <div class="lui-title">Lithops UI</div>
        <div class="lui-sub">Based on <a href="https://github.com/lit/lit" target="_blank">lit</a></div>
        <div><a href="https://github.com/cenfun/lithops-ui" target="_blank" class="icon-github"></a></div>
    </div>
    <div class="lui-body">

        <div class="lui-item">
            <div class="lui-item-name">lui-button</div>
            <div class="lui-item-example">
                <lui-button label="button"></lui-button>
                <lui-button>label</lui-button>
                <lui-button><b>slot html</b></lui-button>
                <lui-button primary>primary</lui-button>
                <lui-button disabled>disabled</lui-button>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-checkbox</div>
            <div class="lui-item-example">
                <lui-checkbox>label</lui-checkbox>
                <lui-checkbox checked>checked</lui-checkbox>
                <lui-checkbox disabled>disabled</lui-checkbox>
                <lui-checkbox value="value">this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long!</lui-checkbox>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-flyover</div>
            <div class="lui-item-example">
                <lui-select label="position:" class="st-position">
                    <option>right</option>
                    <option>left</option>
                </lui-select>
                <lui-select label="width:" class="st-flyover">
                    <option>100px</option>
                    <option selected>30%</option>
                    <option>50%</option>
                    <option>80%</option>
                    <option>100%</option>
                </lui-select>
                <lui-button class="bt-toggle-flyover">toggle flayover</lui-button>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-input</div>
            <div class="lui-item-example">
                <lui-input></lui-input>
                <lui-input value="value">key:</lui-input>
                <lui-input placeholder="placeholder" label="name:" width="200px"></lui-input>
                <lui-input disabled>disabled:</lui-input>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-loading</div>
            <div class="lui-item-example">
                <lui-loading size="s"></lui-loading>
                <lui-loading color="green"></lui-loading>
                <lui-loading size="l" fast></lui-loading>
                <lui-loading center></lui-loading>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-modal</div>
            <div class="lui-item-example">
                <lui-button class="bt-open-modal">open modal</lui-button>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-progress</div>
            <div class="lui-item-example">
                <lui-progress border-color="red"></lui-progress>
                <lui-progress percentage="80" color="green" border-color="darkgreen"></lui-progress>
                <lui-progress percentage="50" height="10px" width="200px"></lui-progress>
                <lui-progress percentage="100"></lui-progress>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-radio</div>
            <div class="lui-item-example">
                <lui-radio name="radio-name">label</lui-radio>
                <lui-radio name="radio-name" checked>checked</lui-radio>
                <lui-radio disabled>disabled</lui-radio>
                <lui-radio name="radio-name" value="value">this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long! this label is long!</lui-radio>
            </div>
        </div>

        
        <div class="lui-item">
            <div class="lui-item-name">lui-select</div>
            <div class="lui-item-example">
                <lui-select label="select:">
                    <option value="apple">Apple</option>
                    <option value="orange" selected>Orange</option>
                    <option>Pineapple</option>
                    <option value="">(Empty)</option>
                </lui-select>

                <lui-select>
                    <option></option>
                    <option>Next</option>
                </lui-select>

                <lui-select label="options:" options="[1,2,3]">
                </lui-select>

                <lui-select input label="input:" options="[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]">
                </lui-select>

                <lui-select label="disabled:" disabled>
                </lui-select>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-switch</div>
            <div class="lui-item-example">
                <lui-switch class="lui-switch" checked>Label</lui-switch>
                <span>Switch Flags</span>
                <div class="change-switch-flags" style="display: inline-flex;">
                    <lui-radio name="switchFlag" value="empty" checked>(Empty)</lui-radio>
                    <lui-radio name="switchFlag" value="Yes,No">Yes/No</lui-radio>
                    <lui-radio name="switchFlag" value="Open,Close">Open,Close</lui-radio>
                    <lui-radio name="switchFlag" value="ON, OFF">ON/OFF</lui-radio>
                </div>
                <br>
                <span>Switch Colors</span>
                <div class="change-switch-colors" style="display: inline-flex;">
                    <lui-radio name="switchColors" value="red, green">red/green</lui-radio>
                    <lui-radio name="switchColors" value="#1890ff, #aaa" checked>Default</lui-radio>
                    <lui-radio name="switchColors" value="">Empty</lui-radio>
                    <lui-radio name="switchColors" value="ss">Wrong</lui-radio>
                </div>
                <br>
                <span>Switch Size</span>
                <div class="change-switch-size" style="display: inline-flex;">
                    <lui-radio name="switchSize" value="s">s</lui-radio>
                    <lui-radio name="switchSize" value="m" checked>m</lui-radio>
                    <lui-radio name="switchSize" value="l">l</lui-radio>
                </div>
                <br>
                <lui-button class="change-switch-disabled">Switch disabled</lui-button>
            </div>
        </div>

        <div class="lui-item">
            <div class="lui-item-name">lui-toast</div>
            <div class="lui-item-example">
                <lui-button class="show-toast1">Show Toast 1</lui-button>
                <lui-button class="show-toast2">Show Toast 2</lui-button>
                <lui-button class="show-toast3">Show Toast 3</lui-button>
                <div class="change-toast-type" style="display: flex; align-items: center;">
                    <p>Toast Type</p>
                    <lui-radio name="toastType" value="info" checked>info</lui-radio>
                    <lui-radio name="toastType" value="warning">warning</lui-radio>
                    <lui-radio name="toastType" value="error">error</lui-radio>
                    <lui-radio name="toastType" value="success">success</lui-radio>
                </div>
                <lui-input class="change-toast-content" type="text" value="hello world">Toast Content</lui-input>
                <lui-input class="change-toast-timeout" type="number" value="3000">Toast Timeout</lui-input>
                <lui-toast message="connected" timeout="0" type="warning" class="lui-toast" position></lui-toast>
                <div class="change-toast-position" style="display: flex; align-items: center;">
                    <p>Toast Position</p>
                    <lui-radio name="toastPosition" value="left-top">left-top</lui-radio>
                    <lui-radio name="toastPosition" value="center-top" checked>center-top</lui-radio>
                    <lui-radio name="toastPosition" value="right-top">right-top</lui-radio>
                    <lui-radio name="toastPosition" value="left-center">left-center</lui-radio>
                    <lui-radio name="toastPosition" value="center-center">center-center</lui-radio>
                    <lui-radio name="toastPosition" value="right-center">right-center</lui-radio>
                    <lui-radio name="toastPosition" value="left-bottom">left-bottom</lui-radio>
                    <lui-radio name="toastPosition" value="center-bottom">center-bottom</lui-radio>
                    <lui-radio name="toastPosition" value="right-bottom">right-bottom</lui-radio>
                </div>
            </div>
        </div>

    </div>
    <script>
        const lui = window['lithops-ui'];
        console.log(lui.components);

        const $ = (selector) => {
            return document.querySelector(selector);
        };
        const $on = (selector, type, callback) => {
            const $elem = $(selector);
            if ($elem) {
                $elem.addEventListener(type, callback);
            }
        };
        const $$ = (selector) => {
            return document.querySelectorAll(selector);
        };
        const $$on = (selector, type, callback) => {
            const $elems = $$(selector);
            Array.from($elems).forEach(($elem) => {
                $elem.addEventListener(type, callback);
            });
        };

        //keep scroll position when reload
        const storeKey = 'lui-scroll-position';
        const scrollTarget = $('.lui-body');
        const positionHandler = function(event) {
            const position = sessionStorage.getItem(storeKey);
            if (position) {
                const ls = position.split(',');
                scrollTarget.scrollTo(ls[0], ls[1]);
                sessionStorage.removeItem(storeKey);
            }
            window.removeEventListener('load', positionHandler);
        };
        window.addEventListener('load', positionHandler);
        window.addEventListener('beforeunload', function(e) {
            sessionStorage.setItem(storeKey, `${scrollTarget.scrollLeft},${scrollTarget.scrollTop}`);
        });

        
        // checkbox control
        $$on('lui-checkbox', 'change', (e) => {
            console.log(e.detail);
        });

        // radio control
        $$on('lui-radio', 'change', (e) => {
            console.log(e.detail);
        });

        // flyover control
        let flyover;
        $on('.bt-toggle-flyover', 'click', function(e) {

            const position = $('.st-position').value;
            const width = $('.st-flyover').value;
            console.log(position, width);

            if (!flyover) {
                flyover = document.createElement('lui-flyover');
                flyover.setAttribute('position', position);
                flyover.setAttribute('width', width);
                
                const fbt = document.createElement('lui-button');
                fbt.addEventListener('click', function() {
                    flyover.close();
                    flyover = null;
                });
                fbt.innerHTML = 'close';
                flyover.appendChild(fbt);

                document.body.appendChild(flyover);
                return;
            }

            flyover.close();
            flyover = null;
            
        });

        // modal control
        $on('.bt-open-modal', 'click', function(e) {

            const modal = document.createElement('lui-modal');
            modal.setAttribute('header', 'this is modal header');
            const mbt = document.createElement('lui-button');
            mbt.addEventListener('click', function() {
                modal.remove();
            });
            mbt.innerHTML = 'close';
            modal.appendChild(mbt);

            document.body.appendChild(modal);
            
        });


        $$on('lui-select', 'change', (e) => {
            console.log('select change', e.detail);
        });


        // toast control
        const $toast1 = document.createElement('lui-toast');
        const $toast2 = document.createElement('lui-toast');
        const $toast3 = document.createElement('lui-toast');
        const $toast4 = document.querySelector('.lui-toast');
        let type = 'info';
        let content = 'hello world';
        let timeout = 3000;
        let position = 'center-top';
        const $toastType = document.querySelector('.change-toast-type');
        const $toastContent = document.querySelector('.change-toast-content');
        const $toastTimeout = document.querySelector('.change-toast-timeout');
        const $toastPosition = document.querySelector('.change-toast-position');
        $toastType.addEventListener('change', (e) => {
            e.stopPropagation();
            type = e.detail;
        });
        $toastContent.addEventListener('input', (e) => {
            content = e.detail;
        });
        $toastTimeout.addEventListener('input', (e) => {
            timeout = e.detail;
        });
        $toastPosition.addEventListener('change', (e) => {
            position = e.detail;
        });
        const $showToast1 = document.querySelector('.show-toast1');
        $showToast1.addEventListener('click', () => {
            $toast1.show(content, type, timeout, position);
        });
        const $showToast2 = document.querySelector('.show-toast2');
        $showToast2.addEventListener('click', () => {
            $toast2.show('toast2', type, timeout, position);
        });
        const $showToast3 = document.querySelector('.show-toast3');
        $showToast3.addEventListener('click', () => {
            $toast3.show('toast3', type, timeout, position);
            $toast4.show(null, null, null);
        });

    </script>
</body>

</html>